import{R as i,u as p,j as s,s as d,g as m,r,h as x}from"./index-BJrhvo7s.js";function C({citiesList:a}){const t=p(),o=e=>{t(d(e.name)),t(m({lat:e.lat,lon:e.lon}))};return s.jsx("ul",{className:"cities-list",children:(a==null?void 0:a.data.length)>0&&a.data.map((e,n)=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>o(e),children:[e.name,", ",e.country]})},n))})}const f=i.memo(C);function g({showCitySearch:a}){const[t,o]=r.useState(""),[e,n]=r.useState({data:[]}),l=c=>{o(c.target.value)};return r.useEffect(()=>{const c=setTimeout(()=>{if(t){const u=`https://api.openweathermap.org/geo/1.0/direct?q=${t}&limit=3&appid=e13101adaa937ed23720689cf95cba15`;t&&x.get(u).then(h=>{n(h)})}else n({data:[]})},500);return()=>clearTimeout(c)},[t]),s.jsxs("section",{className:a?"city-search show":"city-search",children:[s.jsx("input",{type:"text",placeholder:"Search city...",value:t,onChange:l}),s.jsx(f,{citiesList:e})]})}const S=i.memo(g);export{S as default};
